{"version":3,"sources":["chartist-plugin-vertical-line.js"],"names":["root","factory","define","amd","exports","module","this","window","document","Chartist","defaultOptions","position","undefined","label","className","VerticalLine","chart","chartRect","options","labelClassName","$label","$","appendTo","container","show","pos","l","left","r","right","html","css","top","width","svg","elem","x1","x2","y1","y2","plugins","verticalLine","extend","Line","on","data","type","index","x"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,UAAW,WACT,MAAQF,GAAK,iCAAmCC,MAEtB,gBAAZG,SAIhBC,OAAOD,QAAUH,IAEjBD,EAAK,iCAAmCC,KAE1CK,KAAM,WA4FR,MArFC,UAAUC,EAAQC,EAAUC,GAC3B,YAEA,IAAIC,IACFC,SAAUC,OACVC,MAAOD,OACPE,UAAW,iBAGTC,EAAe,SAAUC,EAAOC,EAAWC,GAE7C,GAAIC,GAAiBD,EAAQJ,UAAY,SAErCM,EAASC,EAAE,gBAAkBF,EAAiB,wCAC7CG,SAASN,EAAMO,UAEpBjB,MAAKkB,KAAO,SAAUC,GAEpB,GAAIC,GAAID,EAAIE,KAAK,IAAMF,EAAIE,KAAK,GAAKF,EAAIE,KAAK,IAAI,EAC9CC,EAAIH,EAAII,MAAM,IAAMJ,EAAII,MAAM,GAAKJ,EAAII,MAAM,IAAI,CAErDT,GACGU,KAAKZ,EAAQL,OAAS,IACtBkB,KAAMC,IAAK,QAASL,KAAMD,GAAKE,EAAIF,GAAG,EAAIN,EAAOa,QAAQ,IACzDT,OAEHR,EAAMkB,IAAIC,KAAK,QACbC,GAAIV,EACJW,GAAIX,EACJY,GAAIrB,EAAUqB,GACdC,GAAItB,EAAUsB,IACbrB,EAAQJ,WAEXE,EAAMkB,IAAIC,KAAK,QACbC,GAAIR,EACJS,GAAIT,EACJU,GAAIrB,EAAUqB,GACdC,GAAItB,EAAUsB,IACbrB,EAAQJ,YAKfL,GAAS+B,QAAU/B,EAAS+B,YAC5B/B,EAAS+B,QAAQC,aAAe,SAAUvB,GAIxC,MAFAA,GAAUT,EAASiC,UAAWhC,EAAgBQ,GAEvC,SAAUF,GAEf,GAAMA,YAAiBP,GAASkC,KAAhC,CAIA,GAAIhC,KACJA,GAASgB,MAAQ,EAAE,GACnBhB,EAASkB,OAAS,EAAE,GAEpBb,EAAM4B,GAAG,OAAQ,SAAUC,GACP,UAAdA,EAAKC,OACHD,EAAKE,QAAU7B,EAAQS,KAAK,KAC9BhB,EAASgB,KAAK,GAAKkB,EAAKG,GAEtBH,EAAKE,QAAU7B,EAAQS,KAAK,KAC9BhB,EAASgB,KAAK,GAAKkB,EAAKG,GAEtBH,EAAKE,QAAU7B,EAAQW,MAAM,KAC/BlB,EAASkB,MAAM,GAAKgB,EAAKG,GAEvBH,EAAKE,QAAU7B,EAAQW,MAAM,KAC/BlB,EAASkB,MAAM,GAAKgB,EAAKG,MAK/BhC,EAAM4B,GAAG,UAAW,SAAUC,GAC5B,GAAIJ,GAAe,GAAI1B,GAAaC,EAAO6B,EAAK5B,UAAWC,EAC3DuB,GAAajB,KAAKb,SAMxBJ,OAAQC,SAAUC,UAEbA,SAAS+B,QAAQC","file":"chartist-plugin-vertical-line.min.js","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function () {\n      return (root['Chartist.plugins.verticalLine'] = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Chartist.plugins.verticalLine'] = factory();\n  }\n}(this, function () {\n\n/**\n * Chartist.js plugin to insert vertical line in a line chart.\n *\n */\n/* global Chartist */\n(function (window, document, Chartist) {\n  'use strict';\n\n  var defaultOptions = {\n    position: undefined,\n    label: undefined,\n    className: 'vertical-line'\n  };\n\n  var VerticalLine = function (chart, chartRect, options) {\n\n    var labelClassName = options.className + '-label';\n\n    var $label = $('<span class=\"' + labelClassName + '\" style=\"position: absolute\"></span>')\n        .appendTo(chart.container);\n\n    this.show = function (pos) {\n\n      var l = pos.left[0] + (pos.left[1] - pos.left[0])/2;\n      var r = pos.right[0] + (pos.right[1] - pos.right[0])/2; \n\n      $label\n        .html(options.label || '')\n        .css({ top: '-10px', left: l + (r - l)/2 - $label.width()/2 })\n        .show();\n\n      chart.svg.elem('line', {\n        x1: l,\n        x2: l,\n        y1: chartRect.y1,\n        y2: chartRect.y2\n      }, options.className);\n\n      chart.svg.elem('line', {\n        x1: r,\n        x2: r,\n        y1: chartRect.y1,\n        y2: chartRect.y2\n      }, options.className);\n\n    };\n  };\n\n  Chartist.plugins = Chartist.plugins || {};\n  Chartist.plugins.verticalLine = function (options) {\n\n    options = Chartist.extend({}, defaultOptions, options);\n\n    return function (chart) {\n\n      if (!(chart instanceof Chartist.Line)) {\n        return;\n      }\n\n      var position = {};\n      position.left = [0,0];\n      position.right = [0,0];\n\n      chart.on('draw', function (data) {\n        if (data.type === 'point') {\n          if (data.index === options.left[0]) {\n            position.left[0] = data.x;\n          } \n          if (data.index === options.left[1]) {\n            position.left[1] = data.x;\n          } \n          if (data.index === options.right[0]) {\n            position.right[0] = data.x;\n          } \n          if (data.index === options.right[1]) {\n            position.right[1] = data.x;\n          }\n        }\n      });\n\n      chart.on('created', function (data) {\n        var verticalLine = new VerticalLine(chart, data.chartRect, options);\n        verticalLine.show(position);\n      });\n\n    };\n  };\n\n}(window, document, Chartist));\n\nreturn Chartist.plugins.verticalLine;\n\n}));\n"]}