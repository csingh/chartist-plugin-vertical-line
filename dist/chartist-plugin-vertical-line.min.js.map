{"version":3,"sources":["chartist-plugin-vertical-line.js"],"names":["root","factory","define","amd","exports","module","this","window","document","Chartist","defaultOptions","position","undefined","label","className","VerticalLine","chart","chartRect","options","labelClassName","$label","$","appendTo","container","show","l","r","html","css","left","width","svg","elem","x1","x2","y1","y2","height","plugins","verticalLine","extend","Line","on","data","type","index","line_positions","x","right"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,UAAW,WACT,MAAQF,GAAK,iCAAmCC,MAEtB,gBAAZG,SAIhBC,OAAOD,QAAUH,IAEjBD,EAAK,iCAAmCC,KAE1CK,KAAM,WAgFR,MAzEC,UAAUC,EAAQC,EAAUC,GAC3B,YAEA,IAAIC,IACFC,SAAUC,OACVC,MAAOD,OACPE,UAAW,iBAGTC,EAAe,SAAUC,EAAOC,EAAWC,GAE7C,GAAIC,GAAiBD,EAAQJ,UAAY,SAErCM,EAASC,EAAE,gBAAkBF,EAAiB,wCAC7CG,SAASN,EAAMO,UAEpBjB,MAAKkB,KAAO,SAAUC,EAAGC,GAEvBN,EACGO,KAAKT,EAAQL,OAAS,IACtBe,KAAMC,KAAMJ,GAAKC,EAAID,GAAG,EAAIL,EAAOU,QAAQ,IAC3CN,OAEHR,EAAMe,IAAIC,KAAK,QACbC,GAAIR,EACJS,GAAIT,EACJU,GAAIlB,EAAUkB,GACdC,GAAInB,EAAUmB,GAAKhB,EAAOiB,UACzBnB,EAAQJ,WAEXE,EAAMe,IAAIC,KAAK,QACbC,GAAIP,EACJQ,GAAIR,EACJS,GAAIlB,EAAUkB,GACdC,GAAInB,EAAUmB,GAAKhB,EAAOiB,UACzBnB,EAAQJ,YAKfL,GAAS6B,QAAU7B,EAAS6B,YAC5B7B,EAAS6B,QAAQC,aAAe,SAAUrB,GAIxC,MAFAA,GAAUT,EAAS+B,UAAW9B,EAAgBQ,GAEvC,SAAUF,GAEf,GAAMA,YAAiBP,GAASgC,KAAhC,CAIA,GAAI9B,KAEJK,GAAM0B,GAAG,OAAQ,SAAUC,GACP,UAAdA,EAAKC,OACHD,EAAKE,QAAU3B,EAAQ4B,eAAe,GACxCnC,EAASkB,KAAOc,EAAKI,EACZJ,EAAKE,QAAU3B,EAAQ4B,eAAe,KAC/CnC,EAASqC,MAAQL,EAAKI,MAK5B/B,EAAM0B,GAAG,UAAW,SAAUC,GAC5B,GAAIJ,GAAe,GAAIxB,GAAaC,EAAO2B,EAAK1B,UAAWC,EAC3DqB,GAAaf,KAAKb,EAASkB,KAAMlB,EAASqC,aAMhDzC,OAAQC,SAAUC,UAEbA,SAAS6B,QAAQC","file":"chartist-plugin-vertical-line.min.js","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function () {\n      return (root['Chartist.plugins.verticalLine'] = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Chartist.plugins.verticalLine'] = factory();\n  }\n}(this, function () {\n\n/**\n * Chartist.js plugin to insert vertical line in a line chart.\n *\n */\n/* global Chartist */\n(function (window, document, Chartist) {\n  'use strict';\n\n  var defaultOptions = {\n    position: undefined,\n    label: undefined,\n    className: 'vertical-line'\n  };\n\n  var VerticalLine = function (chart, chartRect, options) {\n\n    var labelClassName = options.className + '-label';\n\n    var $label = $('<span class=\"' + labelClassName + '\" style=\"position: absolute\"></span>')\n        .appendTo(chart.container);\n\n    this.show = function (l, r) {\n\n      $label\n        .html(options.label || '')\n        .css({ left: l + (r - l)/2 - $label.width()/2 })\n        .show();\n\n      chart.svg.elem('line', {\n        x1: l,\n        x2: l,\n        y1: chartRect.y1,\n        y2: chartRect.y2 + $label.height()\n      }, options.className);\n\n      chart.svg.elem('line', {\n        x1: r,\n        x2: r,\n        y1: chartRect.y1,\n        y2: chartRect.y2 + $label.height()\n      }, options.className);\n\n    };\n  };\n\n  Chartist.plugins = Chartist.plugins || {};\n  Chartist.plugins.verticalLine = function (options) {\n\n    options = Chartist.extend({}, defaultOptions, options);\n\n    return function (chart) {\n\n      if (!(chart instanceof Chartist.Line)) {\n        return;\n      }\n\n      var position = {};\n\n      chart.on('draw', function (data) {\n        if (data.type === 'point') {\n          if (data.index === options.line_positions[0]) {\n            position.left = data.x;\n          } else if (data.index === options.line_positions[1]) {\n            position.right = data.x;\n          }\n        }\n      });\n\n      chart.on('created', function (data) {\n        var verticalLine = new VerticalLine(chart, data.chartRect, options);\n        verticalLine.show(position.left, position.right);\n      });\n\n    };\n  };\n\n}(window, document, Chartist));\n\nreturn Chartist.plugins.verticalLine;\n\n}));\n"]}